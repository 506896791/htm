var CACHE = {};
var TEMPLATE = document.createElement('template');
var reg = /(\$_h\[\d+\])/g;
function html(statics) {
    var tpl = CACHE[statics] || (CACHE[statics] = build(statics));
    return tpl(this, arguments);
}

function build(statics) {
    var str = statics[0], i = 1;
    while (i < statics.length) {
        str += '$_h[' + i + ']' + statics[i++];
    }
    TEMPLATE.innerHTML = str.replace(/<(?:(\/)\/|(\/?)(\$_h\[\d+\]))/g, '<$1$2c c@=$3').replace(/<([\w:-]+)(\s[^<>]*?)?\/>/gi, '<$1$2></$1>').trim();
    return Function('h', '$_h', 'return ' + walk((TEMPLATE.content || TEMPLATE).firstChild));
}

function walk(n) {
    if (n.nodeType !== 1) {
        if (n.nodeType === 3 && n.data) 
            { return field(n.data, ','); }
        return 'null';
    }
    var nodeName = "\"" + (n.localName) + "\"", str = '{', sub = '', end = '}';
    for (var i = 0;i < n.attributes.length; i++) {
        var ref = n.attributes[i];
        var name = ref.name;
        var value = ref.value;
        if (name == 'c@') {
            nodeName = value;
            continue;
        }
        if (name.substring(0, 3) === '...') {
            end = '})';
            str = 'Object.assign(' + str + '},' + name.substring(3) + ',{';
            sub = '';
            continue;
        }
        str += sub + "\"" + (name.replace(/:(\w)/g, upper)) + "\":" + (value ? field(value, '+') : true);
        sub = ',';
    }
    str = 'h(' + nodeName + ',' + str + end;
    var child = n.firstChild;
    while (child) {
        str += ',' + walk(child);
        child = child.nextSibling;
    }
    return str + ')';
}

function upper(s, i) {
    return i.toUpperCase();
}

function field(value, sep) {
    var matches = value.match(reg);
    var strValue = JSON.stringify(value);
    if (matches != null) {
        if (matches[0] === value) 
            { return value; }
        strValue = strValue.replace(reg, ("\"" + sep + "$1" + sep + "\"")).replace(/"[+,]"/g, '');
        if (sep === ',') 
            { strValue = "[" + strValue + "]"; }
    }
    return strValue;
}



//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUEsQ0FBSztRQUNsQixLQUFBLENBQUEsQ0FBQSxDQUFRLEtBQUEsQ0FBTTtJQUNoQjtJQUNDLE9BQU8sR0FBQSxDQUFBLENBQUEsQ0FBTTtBQUNkOztBQUVBLFNBQVMsTUFBTyxDQUFHLEVBQUEsR0FBRztJQUNyQixPQUFPLENBQUEsQ0FBRSxXQUFGO0FBQ1I7O0FBR0EsU0FBUyxNQUFNLEtBQU8sRUFBQSxLQUFLO0lBQzFCLEtBQUEsQ0FBTSxVQUFVLEtBQUEsQ0FBTSxLQUFOLENBQVk7SUFDNUIsR0FBQSxDQUFJLFdBQVcsSUFBQSxDQUFLLFNBQUwsQ0FBZTtJQUM5QixJQUFJLE9BQUEsQ0FBQSxFQUFBLENBQVcsTUFBTTtRQUNwQixJQUFJLE9BQUEsQ0FBUSxFQUFSLENBQUEsR0FBQSxDQUFlO1lBQU8sT0FBTztRQUNqQyxRQUFBLENBQUEsQ0FBQSxDQUFXLFFBQUEsQ0FBUyxPQUFULENBQWlCLEtBQUssSUFBSSxRQUFRLEtBQVosRUFBdEIsQ0FBMEMsT0FBMUMsQ0FBa0QsV0FBVztRQUN4RSxJQUFJLEdBQUEsQ0FBQSxHQUFBLENBQVE7WUFBSyxRQUFBLENBQUEsQ0FBQSxDQUFXLElBQUksVUFBSjtJQUM5QjtJQUNDLE9BQU87QUFDUjs7QUFwRkEiLCJmaWxlIjoiaW5kZXgubWpzKG9yaWdpbmFsKSIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgQ0FDSEUgPSB7fTtcblxuY29uc3QgVEVNUExBVEUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG5jb25zdCByZWcgPSAvKFxcJF9oXFxbXFxkK1xcXSkvZztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaHRtbChzdGF0aWNzKSB7XG5cdGNvbnN0IHRwbCA9IENBQ0hFW3N0YXRpY3NdIHx8IChDQUNIRVtzdGF0aWNzXSA9IGJ1aWxkKHN0YXRpY3MpKTtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuXHRyZXR1cm4gdHBsKHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qKiBDcmVhdGUgYSB0ZW1wbGF0ZSBmdW5jdGlvbiBnaXZlbiBzdHJpbmdzIGZyb20gYSB0YWdnZWQgdGVtcGxhdGUuICovXG5mdW5jdGlvbiBidWlsZChzdGF0aWNzKSB7XG5cdGxldCBzdHIgPSBzdGF0aWNzWzBdLCBpID0gMTtcblx0d2hpbGUgKGkgPCBzdGF0aWNzLmxlbmd0aCkge1xuXHRcdHN0ciArPSAnJF9oWycgKyBpICsgJ10nICsgc3RhdGljc1tpKytdO1xuXHR9XG5cdC8vIFRlbXBsYXRlIHN0cmluZyBwcmVwcm9jZXNzaW5nOlxuXHQvLyAtIHJlcGxhY2UgPCR7Rm9vfT4gd2l0aCA8YyBjQD0ke0Zvb30+XG5cdC8vIC0gcmVwbGFjZSA8eCAvPiB3aXRoIDx4PjwveD5cblx0Ly8gLSByZXBsYWNlIDwke0Zvb30+YTwvLz5iIHdpdGggPGMgY0A9JHtGb299PmE8L2M+YlxuXHRURU1QTEFURS5pbm5lckhUTUwgPSBzdHIucmVwbGFjZSgvPCg/OihcXC8pXFwvfChcXC8/KShcXCRfaFxcW1xcZCtcXF0pKS9nLCAnPCQxJDJjIGNAPSQzJykucmVwbGFjZSgvPChbXFx3Oi1dKykoXFxzW148Pl0qPyk/XFwvPi9naSwgJzwkMSQyPjwvJDE+JykudHJpbSgpO1xuXHRyZXR1cm4gRnVuY3Rpb24oJ2gnLCAnJF9oJywgJ3JldHVybiAnICsgd2FsaygoVEVNUExBVEUuY29udGVudCB8fCBURU1QTEFURSkuZmlyc3RDaGlsZCkpO1xufVxuXG4vKiogVHJhdmVyc2UgYSBET00gdHJlZSBhbmQgc2VyaWFsaXplIGl0IHRvIGh5cGVyc2NyaXB0IGZ1bmN0aW9uIGNhbGxzICovXG5mdW5jdGlvbiB3YWxrKG4pIHtcblx0aWYgKG4ubm9kZVR5cGUgIT09IDEpIHtcblx0XHRpZiAobi5ub2RlVHlwZSA9PT0gMyAmJiBuLmRhdGEpIHJldHVybiBmaWVsZChuLmRhdGEsICcsJyk7XG5cdFx0cmV0dXJuICdudWxsJztcblx0fVxuXHRsZXQgbm9kZU5hbWUgPSBgXCIke24ubG9jYWxOYW1lfVwiYCwgc3RyID0gJ3snLCBzdWI9JycsIGVuZD0nfSc7XG5cdGZvciAobGV0IGk9MDsgaTxuLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBuLmF0dHJpYnV0ZXNbaV07XG5cdFx0aWYgKG5hbWU9PSdjQCcpIHtcblx0XHRcdG5vZGVOYW1lID0gdmFsdWU7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0aWYgKG5hbWUuc3Vic3RyaW5nKDAsMyk9PT0nLi4uJykge1xuXHRcdFx0ZW5kID0gJ30pJztcblx0XHRcdHN0ciA9ICdPYmplY3QuYXNzaWduKCcgKyBzdHIgKyAnfSwnICsgbmFtZS5zdWJzdHJpbmcoMykgKyAnLHsnO1xuXHRcdFx0c3ViID0gJyc7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cdFx0c3RyICs9IGAke3N1Yn1cIiR7bmFtZS5yZXBsYWNlKC86KFxcdykvZywgdXBwZXIpfVwiOiR7dmFsdWUgPyBmaWVsZCh2YWx1ZSwgJysnKSA6IHRydWV9YDtcblx0XHRzdWIgPSAnLCc7XG5cdH1cblx0c3RyID0gJ2goJyArIG5vZGVOYW1lICsgJywnICsgc3RyICsgZW5kO1xuXHRsZXQgY2hpbGQgPSBuLmZpcnN0Q2hpbGQ7XG5cdHdoaWxlIChjaGlsZCkge1xuXHRcdHN0ciArPSAnLCcgKyB3YWxrKGNoaWxkKTtcblx0XHRjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuXHR9XG5cdHJldHVybiBzdHIgKyAnKSc7XG59XG5cbmZ1bmN0aW9uIHVwcGVyIChzLCBpKSB7XG5cdHJldHVybiBpLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8qKiBTZXJpYWxpemUgYSBmaWVsZCB0byBhIFN0cmluZyBvciByZWZlcmVuY2UgZm9yIHVzZSBpbiBnZW5lcmF0ZWQgY29kZS4gKi9cbmZ1bmN0aW9uIGZpZWxkKHZhbHVlLCBzZXApIHtcblx0Y29uc3QgbWF0Y2hlcyA9IHZhbHVlLm1hdGNoKHJlZyk7XG5cdGxldCBzdHJWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0aWYgKG1hdGNoZXMgIT0gbnVsbCkge1xuXHRcdGlmIChtYXRjaGVzWzBdID09PSB2YWx1ZSkgcmV0dXJuIHZhbHVlO1xuXHRcdHN0clZhbHVlID0gc3RyVmFsdWUucmVwbGFjZShyZWcsIGBcIiR7c2VwfSQxJHtzZXB9XCJgKS5yZXBsYWNlKC9cIlsrLF1cIi9nLCAnJyk7XG5cdFx0aWYgKHNlcCA9PT0gJywnKSBzdHJWYWx1ZSA9IGBbJHtzdHJWYWx1ZX1dYDtcblx0fVxuXHRyZXR1cm4gc3RyVmFsdWU7XG59XG4iXX0=

var currentExpressions;
function htmBabelPlugin(ref, options) {
    var t = ref.types;
    if ( options === void 0 ) options = {};

    var pragma = options.pragma === false ? false : dottedIdentifier(options.pragma || 'h');
    var inlineVNodes = options.monomorphic || pragma === false;
    function dottedIdentifier(keypath) {
        var path = keypath.split('.');
        var out;
        for (var i = 0;i < path.length; i++) {
            var ident = propertyName(path[i]);
            out = i === 0 ? ident : t.memberExpression(out, ident);
        }
        return out;
    }
    
    function patternStringToRegExp(str) {
        var parts = str.split('/').slice(1);
        var end = parts.pop() || '';
        return new RegExp(parts.join('/'), end);
    }
    
    function propertyName(key) {
        if (key.match(/(^\d|[^a-z0-9_$])/i)) 
            { return t.stringLiteral(key); }
        return t.identifier(key);
    }
    
    function stringValue(str) {
        if (options.monomorphic) {
            return t.objectExpression([t.objectProperty(propertyName('type'), t.numericLiteral(3)),
                t.objectProperty(propertyName('tag'), t.nullLiteral()),t.objectProperty(propertyName('props'), t.nullLiteral()),
                t.objectProperty(propertyName('children'), t.nullLiteral()),t.objectProperty(propertyName('text'), t.stringLiteral(str))]);
        }
        return t.stringLiteral(str);
    }
    
    function createVNode(tag, props, children) {
        if (inlineVNodes) {
            return t.objectExpression([options.monomorphic && t.objectProperty(propertyName('type'), t.numericLiteral(1)),
                t.objectProperty(propertyName('tag'), tag),t.objectProperty(propertyName('props'), props),
                t.objectProperty(propertyName('children'), children),options.monomorphic && t.objectProperty(propertyName('text'), t.nullLiteral())].filter(Boolean));
        }
        return t.callExpression(pragma, [tag,props,children]);
    }
    
    var isVNode = t.isCallExpression;
    if (inlineVNodes) {
        isVNode = (function (node) {
            if (!t.isObjectExpression(node)) 
                { return false; }
            return node.properties[0].value.value !== 3;
        });
    }
    function mapChildren(child, index, children) {
        if (typeof child === 'string' && child.trim().length === 0 || child == null) {
            if (index === 0 || index === children.length - 1) 
                { return null; }
        }
        if (typeof child === 'string' && isVNode(children[index - 1]) && isVNode(children[index + 1])) {
            child = child.trim();
        }
        if (typeof child === 'string') {
            return stringValue(child);
        }
        return child;
    }
    
    function h(tag, props) {
        var children = [], len = arguments.length - 2;
        while ( len-- > 0 ) children[ len ] = arguments[ len + 2 ];

        if (typeof tag === 'string') {
            var matches = tag.match(/\$\$\$_h_\[(\d+)\]/);
            if (matches) 
                { tag = currentExpressions[matches[1]]; }
             else 
                { tag = t.stringLiteral(tag); }
        }
        var propsNode = t.objectExpression(Object.keys(props).map(function (key) {
            var value = props[key];
            if (typeof value === 'string') {
                var tokenizer = /\$\$\$_h_\[(\d+)\]/g;
                var token, lhs, root, index = 0, lastIndex = 0;
                var append = function (expr) {
                    if (lhs) 
                        { expr = t.binaryExpression('+', lhs, expr); }
                    root = (lhs = expr);
                };
                while (token = tokenizer.exec(value)) {
                    append(t.stringLiteral(value.substring(index, token.index)));
                    append(currentExpressions[token[1]]);
                    index = token.index;
                    lastIndex = tokenizer.lastIndex;
                }
                if (lastIndex < value.length) {
                    append(t.stringLiteral(value.substring(lastIndex)));
                }
                value = root;
            } else if (typeof value === 'boolean') {
                value = t.booleanLiteral(value);
            }
            return t.objectProperty(propertyName(key), value);
        }));
        if (Array.isArray(children)) {
            children = t.arrayExpression(children.map(mapChildren).filter(Boolean));
        }
        return createVNode(tag, propsNode, children);
    }
    
    var html$$1 = html.bind(h);
    var htmlName = options.tag || 'html';
    return {
        name: 'htm',
        visitor: {
            TaggedTemplateExpression: function TaggedTemplateExpression(path) {
                var tag = path.node.tag.name;
                if (htmlName[0] === '/' ? patternStringToRegExp(htmlName).test(tag) : tag === htmlName) {
                    var statics = path.node.quasi.quasis.map(function (e) { return e.value.raw; });
                    var expr = path.node.quasi.expressions;
                    currentExpressions = expr;
                    path.replaceWith(html$$1.apply(void 0, [ statics ].concat( expr.map(function (p, i) { return ("$$$_h_[" + i + "]"); }) )));
                }
            }
        }
    };
}



//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxDQUFNLE9BQU8sSUFBQSxDQUFLLElBQUwsQ0FBVSxLQUFWLENBQWdCO29CQUM3QixrQkFBQSxDQUFBLENBQUEsQ0FBcUI7b0JBQ3JCLElBQUEsQ0FBSyxXQUFMLENBQWlCLElBQUEsQ0FBSyxTQUFTLEdBQUcsSUFBQSxDQUFLLEdBQUwsRUFBVSxDQUFHLEVBQUEsR0FBSixHQUFVLFVBQVUsR0FBVjtnQkFDMUQ7WUFDQTs7O0FBR0E7O0FBekpBIiwiZmlsZSI6ImJhYmVsLm1qcyhvcmlnaW5hbCkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaHRtIGZyb20gJy4vaW5kZXgubWpzJztcblxuLy8gaHRtKCkgdXNlcyB0aGUgSFRNTCBwYXJzZXIsIHdoaWNoIHNlcmlhbGl6ZXMgYXR0cmlidXRlIHZhbHVlcy5cbi8vIHRoaXMgaXMgYSBwcm9ibGVtLCBiZWNhdXNlIGNvbXBvc2l0ZSB2YWx1ZXMgaGVyZSBjYW4gYmUgbWFkZSB1cFxuLy8gb2Ygc3RyaW5ncyBhbmQgQVNUIG5vZGVzLCB3aGljaCBzZXJpYWxpemUgdG8gW29iamVjdCBPYmplY3RdLlxuLy8gU2luY2UgdGhlIGhhbmRvZmYgZnJvbSBBU1Qgbm9kZSBoYW5kbGluZyB0byBodG0oKSBpcyBzeW5jaHJvbm91cyxcbi8vIHRoaXMgZ2xvYmFsIGxvb2t1cCB3aWxsIGFsd2F5cyByZWZsZWN0IHRoZSBjb3JyZXNwb25kaW5nXG4vLyBBU1QtZGVyaXZlZCB2YWx1ZXMgZm9yIHRoZSBjdXJyZW50IGh0bSgpIGludm9jYXRpb24uXG5sZXQgY3VycmVudEV4cHJlc3Npb25zO1xuXG4vKipcbiAqIEBwYXJhbSB7QmFiZWx9IGJhYmVsXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnByYWdtYT1oXSAgSlNYL2h5cGVyc2NyaXB0IHByYWdtYS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy50YWc9aHRtbF0gIFRoZSB0YWdnZWQgdGVtcGxhdGUgXCJ0YWdcIiBmdW5jdGlvbiBuYW1lIHRvIHByb2Nlc3MuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1vbm9tb3JwaGljPWZhbHNlXSAgT3V0cHV0IG1vbm9tb3JwaGljIGlubGluZSBvYmplY3RzIGluc3RlYWQgb2YgdXNpbmcgU3RyaW5nIGxpdGVyYWxzLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBodG1CYWJlbFBsdWdpbih7IHR5cGVzOiB0IH0sIG9wdGlvbnMgPSB7fSkge1xuXHRjb25zdCBwcmFnbWEgPSBvcHRpb25zLnByYWdtYT09PWZhbHNlID8gZmFsc2UgOiBkb3R0ZWRJZGVudGlmaWVyKG9wdGlvbnMucHJhZ21hIHx8ICdoJyk7XG4gIFxuXHRjb25zdCBpbmxpbmVWTm9kZXMgPSBvcHRpb25zLm1vbm9tb3JwaGljIHx8IHByYWdtYT09PWZhbHNlO1xuICBcblx0ZnVuY3Rpb24gZG90dGVkSWRlbnRpZmllcihrZXlwYXRoKSB7XG5cdFx0Y29uc3QgcGF0aCA9IGtleXBhdGguc3BsaXQoJy4nKTtcblx0XHRsZXQgb3V0O1xuXHRcdGZvciAobGV0IGk9MDsgaTxwYXRoLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpZGVudCA9IHByb3BlcnR5TmFtZShwYXRoW2ldKTtcblx0XHRcdG91dCA9IGk9PT0wID8gaWRlbnQgOiB0Lm1lbWJlckV4cHJlc3Npb24ob3V0LCBpZGVudCk7XG5cdFx0fVxuXHRcdHJldHVybiBvdXQ7XG5cdH1cblxuXHRmdW5jdGlvbiBwYXR0ZXJuU3RyaW5nVG9SZWdFeHAoc3RyKSB7XG5cdFx0Y29uc3QgcGFydHMgPSBzdHIuc3BsaXQoJy8nKS5zbGljZSgxKTtcblx0XHRjb25zdCBlbmQgPSBwYXJ0cy5wb3AoKSB8fCAnJztcblx0XHRyZXR1cm4gbmV3IFJlZ0V4cChwYXJ0cy5qb2luKCcvJyksIGVuZCk7XG5cdH1cbiAgXG5cdGZ1bmN0aW9uIHByb3BlcnR5TmFtZShrZXkpIHtcblx0XHRpZiAoa2V5Lm1hdGNoKC8oXlxcZHxbXmEtejAtOV8kXSkvaSkpIHJldHVybiB0LnN0cmluZ0xpdGVyYWwoa2V5KTtcblx0XHRyZXR1cm4gdC5pZGVudGlmaWVyKGtleSk7XG5cdH1cbiAgXG5cdGZ1bmN0aW9uIHN0cmluZ1ZhbHVlKHN0cikge1xuXHRcdGlmIChvcHRpb25zLm1vbm9tb3JwaGljKSB7XG5cdFx0XHRyZXR1cm4gdC5vYmplY3RFeHByZXNzaW9uKFtcblx0XHRcdFx0dC5vYmplY3RQcm9wZXJ0eShwcm9wZXJ0eU5hbWUoJ3R5cGUnKSwgdC5udW1lcmljTGl0ZXJhbCgzKSksXG5cdFx0XHRcdHQub2JqZWN0UHJvcGVydHkocHJvcGVydHlOYW1lKCd0YWcnKSwgdC5udWxsTGl0ZXJhbCgpKSxcblx0XHRcdFx0dC5vYmplY3RQcm9wZXJ0eShwcm9wZXJ0eU5hbWUoJ3Byb3BzJyksIHQubnVsbExpdGVyYWwoKSksXG5cdFx0XHRcdHQub2JqZWN0UHJvcGVydHkocHJvcGVydHlOYW1lKCdjaGlsZHJlbicpLCB0Lm51bGxMaXRlcmFsKCkpLFxuXHRcdFx0XHR0Lm9iamVjdFByb3BlcnR5KHByb3BlcnR5TmFtZSgndGV4dCcpLCB0LnN0cmluZ0xpdGVyYWwoc3RyKSlcblx0XHRcdF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gdC5zdHJpbmdMaXRlcmFsKHN0cik7XG5cdH1cbiAgXG5cdGZ1bmN0aW9uIGNyZWF0ZVZOb2RlKHRhZywgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdFx0aWYgKGlubGluZVZOb2Rlcykge1xuXHRcdFx0cmV0dXJuIHQub2JqZWN0RXhwcmVzc2lvbihbXG5cdFx0XHRcdG9wdGlvbnMubW9ub21vcnBoaWMgJiYgdC5vYmplY3RQcm9wZXJ0eShwcm9wZXJ0eU5hbWUoJ3R5cGUnKSwgdC5udW1lcmljTGl0ZXJhbCgxKSksXG5cdFx0XHRcdHQub2JqZWN0UHJvcGVydHkocHJvcGVydHlOYW1lKCd0YWcnKSwgdGFnKSxcblx0XHRcdFx0dC5vYmplY3RQcm9wZXJ0eShwcm9wZXJ0eU5hbWUoJ3Byb3BzJyksIHByb3BzKSxcblx0XHRcdFx0dC5vYmplY3RQcm9wZXJ0eShwcm9wZXJ0eU5hbWUoJ2NoaWxkcmVuJyksIGNoaWxkcmVuKSxcblx0XHRcdFx0b3B0aW9ucy5tb25vbW9ycGhpYyAmJiB0Lm9iamVjdFByb3BlcnR5KHByb3BlcnR5TmFtZSgndGV4dCcpLCB0Lm51bGxMaXRlcmFsKCkpXG5cdFx0XHRdLmZpbHRlcihCb29sZWFuKSk7XG5cdFx0fVxuICAgIFxuXHRcdHJldHVybiB0LmNhbGxFeHByZXNzaW9uKHByYWdtYSwgW3RhZywgcHJvcHMsIGNoaWxkcmVuXSk7XG5cdH1cblxuXHRsZXQgaXNWTm9kZSA9IHQuaXNDYWxsRXhwcmVzc2lvbjtcblx0aWYgKGlubGluZVZOb2Rlcykge1xuXHRcdGlzVk5vZGUgPSBub2RlID0+IHtcblx0XHRcdGlmICghdC5pc09iamVjdEV4cHJlc3Npb24obm9kZSkpIHJldHVybiBmYWxzZTtcblx0XHRcdHJldHVybiBub2RlLnByb3BlcnRpZXNbMF0udmFsdWUudmFsdWUhPT0zO1xuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZCwgaW5kZXgsIGNoaWxkcmVuKSB7XG5cdFx0Ly8gSlNYLXN0eWxlIHdoaXRlc3BhY2U6IChAVE9ETzogcmVtb3ZlPyBkb2Vzbid0IG1hdGNoIHRoZSBicm93c2VyIHZlcnNpb24pXG5cdFx0aWYgKHR5cGVvZiBjaGlsZD09PSdzdHJpbmcnICYmIGNoaWxkLnRyaW0oKS5sZW5ndGg9PT0wIHx8IGNoaWxkPT1udWxsKSB7XG5cdFx0XHRpZiAoaW5kZXg9PT0wIHx8IGluZGV4PT09Y2hpbGRyZW4ubGVuZ3RoLTEpIHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGNoaWxkPT09J3N0cmluZycgJiYgaXNWTm9kZShjaGlsZHJlbltpbmRleC0xXSkgJiYgaXNWTm9kZShjaGlsZHJlbltpbmRleCsxXSkpIHtcblx0XHRcdGNoaWxkID0gY2hpbGQudHJpbSgpO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGNoaWxkPT09J3N0cmluZycpIHtcblx0XHRcdHJldHVybiBzdHJpbmdWYWx1ZShjaGlsZCk7XG5cdFx0fVxuXHRcdHJldHVybiBjaGlsZDtcblx0fVxuXG5cdGZ1bmN0aW9uIGgodGFnLCBwcm9wcywgLi4uY2hpbGRyZW4pIHtcblx0XHRpZiAodHlwZW9mIHRhZz09PSdzdHJpbmcnKSB7XG5cdFx0XHRjb25zdCBtYXRjaGVzID0gdGFnLm1hdGNoKC9cXCRcXCRcXCRfaF9cXFsoXFxkKylcXF0vKTtcblx0XHRcdGlmIChtYXRjaGVzKSB0YWcgPSBjdXJyZW50RXhwcmVzc2lvbnNbbWF0Y2hlc1sxXV07XG5cdFx0XHRlbHNlIHRhZyA9IHQuc3RyaW5nTGl0ZXJhbCh0YWcpO1xuXHRcdH1cblx0XHQvL2NvbnN0IHByb3BzTm9kZSA9IHByb3BzPT1udWxsIHx8IE9iamVjdC5rZXlzKHByb3BzKS5sZW5ndGg9PT0wID8gdC5udWxsTGl0ZXJhbCgpIDogdC5vYmplY3RFeHByZXNzaW9uKFxuXHRcdGNvbnN0IHByb3BzTm9kZSA9IHQub2JqZWN0RXhwcmVzc2lvbihcblx0XHRcdE9iamVjdC5rZXlzKHByb3BzKS5tYXAoa2V5ID0+IHtcblx0XHRcdFx0bGV0IHZhbHVlID0gcHJvcHNba2V5XTtcblx0XHRcdFx0aWYgKHR5cGVvZiB2YWx1ZT09PSdzdHJpbmcnKSB7XG5cdFx0XHRcdFx0Y29uc3QgdG9rZW5pemVyID0gL1xcJFxcJFxcJF9oX1xcWyhcXGQrKVxcXS9nO1xuXHRcdFx0XHRcdGxldCB0b2tlbiwgbGhzLCByb290LCBpbmRleD0wLCBsYXN0SW5kZXg9MDtcblx0XHRcdFx0XHRjb25zdCBhcHBlbmQgPSBleHByID0+IHtcblx0XHRcdFx0XHRcdGlmIChsaHMpIGV4cHIgPSB0LmJpbmFyeUV4cHJlc3Npb24oJysnLCBsaHMsIGV4cHIpO1xuXHRcdFx0XHRcdFx0cm9vdCA9IGxocyA9IGV4cHI7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR3aGlsZSAoKHRva2VuID0gdG9rZW5pemVyLmV4ZWModmFsdWUpKSkge1xuXHRcdFx0XHRcdFx0YXBwZW5kKHQuc3RyaW5nTGl0ZXJhbCh2YWx1ZS5zdWJzdHJpbmcoaW5kZXgsIHRva2VuLmluZGV4KSkpO1xuXHRcdFx0XHRcdFx0YXBwZW5kKGN1cnJlbnRFeHByZXNzaW9uc1t0b2tlblsxXV0pO1xuXHRcdFx0XHRcdFx0aW5kZXggPSB0b2tlbi5pbmRleDtcblx0XHRcdFx0XHRcdGxhc3RJbmRleCA9IHRva2VuaXplci5sYXN0SW5kZXg7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChsYXN0SW5kZXggPCB2YWx1ZS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdGFwcGVuZCh0LnN0cmluZ0xpdGVyYWwodmFsdWUuc3Vic3RyaW5nKGxhc3RJbmRleCkpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFsdWUgPSByb290O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiB2YWx1ZT09PSdib29sZWFuJykge1xuXHRcdFx0XHRcdHZhbHVlID0gdC5ib29sZWFuTGl0ZXJhbCh2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHQub2JqZWN0UHJvcGVydHkocHJvcGVydHlOYW1lKGtleSksIHZhbHVlKTtcblx0XHRcdH0pXG5cdFx0KTtcbiAgICBcblx0XHRpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcblx0XHRcdGNoaWxkcmVuID0gdC5hcnJheUV4cHJlc3Npb24oY2hpbGRyZW4ubWFwKG1hcENoaWxkcmVuKS5maWx0ZXIoQm9vbGVhbikpO1xuXHRcdH1cblx0XHRyZXR1cm4gY3JlYXRlVk5vZGUodGFnLCBwcm9wc05vZGUsIGNoaWxkcmVuKTtcblx0fVxuICBcblx0Y29uc3QgaHRtbCA9IGh0bS5iaW5kKGgpO1xuXG5cdC8vIFRoZSB0YWdnZWQgdGVtcGxhdGUgdGFnIGZ1bmN0aW9uIG5hbWUgd2UncmUgbG9va2luZyBmb3IuXG5cdC8vIFRoaXMgaXMgc3RhdGljIGJlY2F1c2UgaXQncyBnZW5lcmFsbHkgYXNzaWduZWQgdmlhIGh0bS5iaW5kKGgpLFxuXHQvLyB3aGljaCBjb3VsZCBiZSBpbXBvcnRlZCBmcm9tIGVsc2V3aGVyZSwgbWFraW5nIHRyYWNraW5nIGltcG9zc2libGUuXG5cdGNvbnN0IGh0bWxOYW1lID0gb3B0aW9ucy50YWcgfHwgJ2h0bWwnO1xuXHRyZXR1cm4ge1xuXHRcdG5hbWU6ICdodG0nLFxuXHRcdHZpc2l0b3I6IHtcblx0XHRcdFRhZ2dlZFRlbXBsYXRlRXhwcmVzc2lvbihwYXRoKSB7XG5cdFx0XHRcdGNvbnN0IHRhZyA9IHBhdGgubm9kZS50YWcubmFtZTtcblx0XHRcdFx0aWYgKGh0bWxOYW1lWzBdPT09Jy8nID8gcGF0dGVyblN0cmluZ1RvUmVnRXhwKGh0bWxOYW1lKS50ZXN0KHRhZykgOiB0YWcgPT09IGh0bWxOYW1lKSB7XG5cdFx0XHRcdFx0Y29uc3Qgc3RhdGljcyA9IHBhdGgubm9kZS5xdWFzaS5xdWFzaXMubWFwKGUgPT4gZS52YWx1ZS5yYXcpO1xuXHRcdFx0XHRcdGNvbnN0IGV4cHIgPSBwYXRoLm5vZGUucXVhc2kuZXhwcmVzc2lvbnM7XG5cdFx0XHRcdFx0Y3VycmVudEV4cHJlc3Npb25zID0gZXhwcjtcblx0XHRcdFx0XHRwYXRoLnJlcGxhY2VXaXRoKGh0bWwoc3RhdGljcywgLi4uZXhwci5tYXAoKHAsIGkpID0+IGAkJCRfaF9bJHtpfV1gKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufSJdfQ==

export default htmBabelPlugin;
